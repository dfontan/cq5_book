<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>CQ 5.5 Installation Development &amp; Best Practices</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}


#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}
/*
  pygmentize filter
*/
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f4f4f4; }
.highlight .c { color: #008800; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #AA22FF; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #008800; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #008800 } /* Comment.Preproc */
.highlight .c1 { color: #008800; font-style: italic } /* Comment.Single */
.highlight .cs { color: #008800; font-weight: bold } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #AA22FF; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #AA22FF; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #AA22FF; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #AA22FF } /* Keyword.Pseudo */
.highlight .kr { color: #AA22FF; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #00BB00; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BB4444 } /* Literal.String */
.highlight .na { color: #BB4444 } /* Name.Attribute */
.highlight .nb { color: #AA22FF } /* Name.Builtin */
.highlight .nc { color: #0000FF } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #00A000 } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #B8860B } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BB4444 } /* Literal.String.Backtick */
.highlight .sc { color: #BB4444 } /* Literal.String.Char */
.highlight .sd { color: #BB4444; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BB4444 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BB4444 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BB4444 } /* Literal.String.Single */
.highlight .ss { color: #B8860B } /* Literal.String.Symbol */
.highlight .bp { color: #AA22FF } /* Name.Builtin.Pseudo */
.highlight .vc { color: #B8860B } /* Name.Variable.Class */
.highlight .vg { color: #B8860B } /* Name.Variable.Global */
.highlight .vi { color: #B8860B } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */



</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>CQ 5.5 Installation Development &amp; Best Practices</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_installation">1. Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_quickstart">1.1. Quickstart</h3>
<div class="paragraph"><p>CQ is available as an executable jar known as <a href="http://adobe.com">quickstart</a>.</p></div>
</div>
<div class="sect2">
<h3 id="_java_web_war_deployment">1.2. Java Web War Deployment</h3>
<div class="paragraph"><p>CQ5.5 is available as a war distribution which you can configure inside of j2ee container environment.</p></div>
<div class="paragraph"><p>I will be running it inside of <a href="http://tomcat.apache.org/download-60.cgi">tomcat 6</a>, you can try and follow along and deploy to
either <a href="http://tomcat.apache.org/download-70.cgi">tomcat 7</a> or <a href="http://tomcat.apache.org/download-80.cgi">tomcat 8</a></p></div>
<div class="listingblock">
<div class="title">Project layout</div>
<div class="content">
<pre><code>cq_deployment_war
├── cq_deployment_war.iml
├── license.properties
├── pom.xml
├── sling-home
│   └── .gitkeep
├── src
│   └── main
│       └── webapp
│           ├── META-INF
│           │   ├── LICENSE
│           │   ├── MANIFEST.MF
│           │   └── maven
│           ├── WEB-INF
│           │   ├── classes
│           │   ├── resources
│           │   └── web.xml
│           └── some_random.jsp
└── target
    ├── cq_deployment_war-1.0-SNAPSHOT
    │   ├── META-INF
    │   │   ├── LICENSE
    │   │   ├── MANIFEST.MF
    │   │   └── maven
    │   │       └── com.day.cq
    │   ├── WEB-INF
    │   │   ├── classes
    │   │   │   ├── com
    │   │   │   └── org
    │   │   ├── resources
    │   │   │   ├── bundles
    │   │   │   ├── config
    │   │   │   ├── install
    │   │   │   └── org.apache.sling.launchpad.base.jar
    │   │   └── web.xml
    │   └── some_random.jsp
    └── cq_deployment_war-1.0-SNAPSHOT.war

22 directories, 14 files</code></pre>
</div></div>
<div class="listingblock">
<div class="title">cq_deployment_war/pom.xml</div>
<div class="content"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0&quot;</span>
         <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
         <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>

    <span class="nt">&lt;parent&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>tutorial<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>tutorial<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;relativePath&gt;</span>../pom.xml<span class="nt">&lt;/relativePath&gt;</span>
    <span class="nt">&lt;/parent&gt;</span>

    <span class="nt">&lt;artifactId&gt;</span>cq_deployment_war<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;packaging&gt;</span>war<span class="nt">&lt;/packaging&gt;</span>


<span class="nt">&lt;/project&gt;</span>
</pre></div></div></div>
<div class="paragraph"><p>So i&#8217;ve created a directory <strong>cq_war_deployment</strong> and extracted the contents of the cq war here.</p></div>
<div class="paragraph"><p>To get tomcat / cq configured we have to modify some settings inside of the web.xml file, I am not going to show how
to get tomcat configured to use the cq_war_development folder as root webapplication I will leave this as a user
exercise</p></div>
<div class="paragraph"><p>Once you have you have extracted the war you need to modify Inside of <strong>web.xml</strong> you should see</p></div>
<div class="listingblock">
<div class="title">web.xml</div>
<div class="content"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">/*************************************************************************</span>
<span class="c"> *</span>
<span class="c"> * ADOBE CONFIDENTIAL</span>
<span class="c"> * __________________</span>
<span class="c"> *</span>
<span class="c"> *  Copyright 2011 Adobe Systems Incorporated</span>
<span class="c"> *  All Rights Reserved.</span>
<span class="c"> *</span>
<span class="c"> * NOTICE:  All information contained herein is, and remains</span>
<span class="c"> * the property of Adobe Systems Incorporated and its suppliers,</span>
<span class="c"> * if any.  The intellectual and technical concepts contained</span>
<span class="c"> * herein are proprietary to Adobe Systems Incorporated and its</span>
<span class="c"> * suppliers and are protected by trade secret or copyright law.</span>
<span class="c"> * Dissemination of this information or reproduction of this material</span>
<span class="c"> * is strictly forbidden unless prior written permission is obtained</span>
<span class="c"> * from Adobe Systems Incorporated.</span>
<span class="c"> **************************************************************************/</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;web-app</span> <span class="na">version=</span><span class="s">&quot;2.4&quot;</span>
         <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span>
         <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
         <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;display-name&gt;</span>Adobe Granite Web Application<span class="nt">&lt;/display-name&gt;</span>

    <span class="c">&lt;!-- The Felix Http Service Listener Proxy for HTTP Session events --&gt;</span>
    <span class="nt">&lt;listener&gt;</span>
        <span class="nt">&lt;listener-class&gt;</span>
            org.apache.sling.launchpad.webapp.SlingSessionListener
        <span class="nt">&lt;/listener-class&gt;</span>
    <span class="nt">&lt;/listener&gt;</span>

    <span class="nt">&lt;servlet&gt;</span>
        <span class="nt">&lt;display-name&gt;</span>Granite Servlet<span class="nt">&lt;/display-name&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>granite<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;servlet-class&gt;</span>
            org.apache.sling.launchpad.webapp.SlingServlet
        <span class="nt">&lt;/servlet-class&gt;</span>

        <span class="c">&lt;!--</span>
<span class="c">        	Any init-params defined for the servlet will overwrite</span>
<span class="c">            the default settings in the sling.properties file.</span>

<span class="c">            The most important init-param to be set here is the</span>
<span class="c">            sling.home parameter defining where Sling will place</span>
<span class="c">            its files such as the bundle cache, logs, configuration,</span>
<span class="c">            etc.</span>

<span class="c">            If the sling.home parameter is not set a default value is</span>
<span class="c">            set as ${user.dir}/sling/${context.path} where ${user.dir}</span>
<span class="c">            is the current working directory and ${context.path} is the</span>
<span class="c">            servlet context path with slashes replaced by underscores and</span>
<span class="c">            the root context represented as just a single underscore.</span>

<span class="c">            Example: For Sling deployed in the root context, the default</span>
<span class="c">            sling.home would be sling/_. For Sling deployed in the context</span>
<span class="c">            /sling/i1, the default sling.home would be sling/_sling_i1.</span>
<span class="c">        --&gt;</span>
        <span class="nt">&lt;init-param&gt;</span>
        	<span class="nt">&lt;param-name&gt;</span>sling.home<span class="nt">&lt;/param-name&gt;</span>
        	<span class="nt">&lt;param-value&gt;</span>/Users/ssmithstone/cq_tutorial/tutorial/cq_deployment_war/sling-home<span class="nt">&lt;/param-value&gt;</span> <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/1.png" alt="1" /> --&gt;</span>
        <span class="nt">&lt;/init-param&gt;</span>
      <span class="c">&lt;!--</span>
<span class="c">            The launchpad folder is created relative to the sling.home</span>
<span class="c">            folder.</span>
<span class="c">       --&gt;</span>
        <span class="nt">&lt;init-param&gt;</span>
            <span class="nt">&lt;param-name&gt;</span>sling.launchpad<span class="nt">&lt;/param-name&gt;</span>
            <span class="nt">&lt;param-value&gt;</span>launchpad<span class="nt">&lt;/param-value&gt;</span>
        <span class="nt">&lt;/init-param&gt;</span>
      <span class="c">&lt;!--</span>
<span class="c">            The sling propreties are resolved relative to the</span>
<span class="c">            sling.home folder.</span>
<span class="c">       --&gt;</span>
        <span class="nt">&lt;init-param&gt;</span>
            <span class="nt">&lt;param-name&gt;</span>sling.properties<span class="nt">&lt;/param-name&gt;</span>
            <span class="nt">&lt;param-value&gt;</span>launchpad/sling.properties<span class="nt">&lt;/param-value&gt;</span>
        <span class="nt">&lt;/init-param&gt;</span>

      <span class="c">&lt;!-- Set the runmode per default to author --&gt;</span>
        <span class="nt">&lt;init-param&gt;</span>
            <span class="nt">&lt;param-name&gt;</span>sling.run.modes<span class="nt">&lt;/param-name&gt;</span>
            <span class="nt">&lt;param-value&gt;</span>author<span class="nt">&lt;/param-value&gt;</span>
	<span class="nt">&lt;/init-param&gt;</span>
        <span class="nt">&lt;load-on-startup&gt;</span>100<span class="nt">&lt;/load-on-startup&gt;</span>
    <span class="nt">&lt;/servlet&gt;</span>

    <span class="c">&lt;!-- Default Mapping for the Context --&gt;</span>
    <span class="nt">&lt;servlet-mapping&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>granite<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/servlet-mapping&gt;</span>

    <span class="c">&lt;!-- Overwrite Mappings which may be present in default web.xml files --&gt;</span>
    <span class="nt">&lt;servlet-mapping&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>granite<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>*.jsp<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/servlet-mapping&gt;</span>

<span class="nt">&lt;/web-app&gt;</span>
</pre></div></div></div>
<div class="colist arabic"><table>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/1.png" alt="1" /></td><td>
We have alter the sling-home init param to point to the deployment path
</td></tr>
</table></div>
<div class="listingblock">
<div class="content">
<pre><code>cq_deployment_war/sling-home</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_admin_screen">2. Admin Screen</h2>
<div class="sectionbody">
<div class="paragraph"><p>Once you access the running cq install and logged in you will be greeted with the following</p></div>
<div class="paragraph"><div class="title">Admin Screen</div><p><span class="image">
<a class="image" href="book_contents/images/Welcome_to_Adobe_CQ5.png">
<img src="images/Welcome_to_Adobe_CQ5.png" alt="Admin Screen" width="250" />
</a>
</span></p></div>
<div class="sect2">
<h3 id="_site_admin">2.1. Site Admin</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">TODO</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_users">2.2. Users</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">TODO</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_tools">2.3. Tools</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">TODO</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_packages">2.4. Packages</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">TODO</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_osgi_console">2.5. OSGI Console</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">TODO</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_simple_web_site">3. Simple Web Site</h2>
<div class="sectionbody">
<div class="paragraph"><p>So the idea is get a simple website up and running with no dynamic parts.</p></div>
<div class="sect2">
<h3 id="_setup">3.1. Setup</h3>
<div class="paragraph"><p>There are a number of ways to create a site we can use VLT to obtain the demo structure of create our own.</p></div>
<div class="paragraph"><p>We are going to create our own site using maven</p></div>
<div class="listingblock">
<div class="title">maven module structure</div>
<div class="content">
<pre><code>global-cq-content
├── global-cq-content.iml
├── pom.xml
├── src
│   └── main
│       └── resources
│           ├── META-INF
│           │   └── vault
│           │       ├── config.xml
│           │       ├── filter.xml
│           │       ├── nodetypes.cnd
│           │       ├── properties.xml
│           │       └── settings.xml
│           └── jcr_root
│               ├── apps
│               │   ├── smithstone
│               │   │   ├── components
│               │   │   │   └── page
│               │   │   │       └── homepage
│               │   │   │           ├── .content.xml
│               │   │   │           └── homepage.jsp
│               │   │   └── templates
│               │   │       └── homepage
│               │   │           ├── .content.xml
│               │   │           └── thumbnail.png
│               │   └── ssmithstone
│               │       └── components
│               │           └── tags
│               └── etc
│                   ├── blueprints
│                   │   └── smithstone
│                   │       ├── .content.xml
│                   │       └── _jcr_content
│                   │           └── dialog.xml
│                   └── designs
│                       └── smithstone
│                           ├── .content.xml
│                           ├── images
│                           ├── scripts
│                           └── styles
└── target
    ├── classes
    │   ├── META-INF
    │   │   └── vault
    │   │       ├── config.xml
    │   │       ├── filter.xml
    │   │       ├── nodetypes.cnd
    │   │       ├── properties.xml
    │   │       └── settings.xml
    │   └── jcr_root
    │       ├── apps
    │       │   └── smithstone
    │       │       ├── components
    │       │       │   └── page
    │       │       │       └── homepage
    │       │       │           ├── .content.xml
    │       │       │           ├── homepage.jsp
    │       │       │           ├── homepage_body.jsp
    │       │       │           └── homepage_header.jsp
    │       │       └── templates
    │       │           └── homepage
    │       │               ├── .content.xml
    │       │               └── thumbnail.png
    │       └── etc
    │           ├── blueprints
    │           │   └── smithstone
    │           │       ├── .content.xml
    │           │       └── _jcr_content
    │           │           └── dialog.xml
    │           └── designs
    │               └── smithstone
    │                   └── .content.xml
    ├── global-cq-content-1.0-SNAPSHOT.jar
    └── maven-archiver
        └── pom.properties

44 directories, 30 files</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/important.png" alt="Important" />
</td>
<td class="content">replace <strong>smithstone</strong> with what ever you want your site to be known as</td>
</tr></table>
</div>
<div class="paragraph"><p>To get a site working we need to create a template and a template is special slingresource of cq:Template</p></div>
<div class="paragraph"><p>We need to setup the maven module so generate the following</p></div>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0&quot;</span>
         <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
         <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>

    <span class="nt">&lt;parent&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>tutorial<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>tutorial<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/parent&gt;</span>

    <span class="nt">&lt;artifactId&gt;</span>global-cq-content<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.0-SNAPSHOT<span class="nt">&lt;/version&gt;</span>



    <span class="nt">&lt;dependencies&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>jstl<span class="nt">&lt;/groupId&gt;</span>                                 <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/1.png" alt="1" /> --&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>jstl<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>1.2<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>com.day.cq.wcm<span class="nt">&lt;/groupId&gt;</span>                       <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/2.png" alt="2" /> --&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>cq-wcm-taglib<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>5.5.0<span class="nt">&lt;/version&gt;</span>
            <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>

    <span class="nt">&lt;build&gt;</span>
        <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;resource&gt;</span>
                <span class="nt">&lt;directory&gt;</span>src/main/resources<span class="nt">&lt;/directory&gt;</span>
            <span class="nt">&lt;/resource&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
        <span class="nt">&lt;plugins&gt;</span>
            <span class="nt">&lt;plugin&gt;</span>
                <span class="nt">&lt;groupId&gt;</span>org.apache.sling<span class="nt">&lt;/groupId&gt;</span>                 <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/3.png" alt="3" /> --&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>maven-sling-plugin<span class="nt">&lt;/artifactId&gt;</span>
                <span class="nt">&lt;version&gt;</span>2.0.6<span class="nt">&lt;/version&gt;</span>
                <span class="nt">&lt;configuration&gt;</span>
                    <span class="nt">&lt;skip&gt;</span>true<span class="nt">&lt;/skip&gt;</span>
                <span class="nt">&lt;/configuration&gt;</span>
            <span class="nt">&lt;/plugin&gt;</span>
            <span class="nt">&lt;plugin&gt;</span>
                <span class="nt">&lt;groupId&gt;</span>com.cognifide.maven.plugins<span class="nt">&lt;/groupId&gt;</span>      <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/4.png" alt="4" /> --&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>maven-crx-plugin<span class="nt">&lt;/artifactId&gt;</span>
                <span class="nt">&lt;version&gt;</span>1.0.3<span class="nt">&lt;/version&gt;</span>
                <span class="nt">&lt;configuration&gt;</span>
                    <span class="nt">&lt;url&gt;</span>http://localhost:4502<span class="nt">&lt;/url&gt;</span>                <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/5.png" alt="5" /> --&gt;</span>
                    <span class="nt">&lt;user&gt;</span>admin<span class="nt">&lt;/user&gt;</span>                              <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/6.png" alt="6" /> --&gt;</span>
                    <span class="nt">&lt;password&gt;</span>admin<span class="nt">&lt;/password&gt;</span>                      <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/7.png" alt="7" /> --&gt;</span>
                <span class="nt">&lt;/configuration&gt;</span>
            <span class="nt">&lt;/plugin&gt;</span>
        <span class="nt">&lt;/plugins&gt;</span>
    <span class="nt">&lt;/build&gt;</span>

    <span class="nt">&lt;profiles&gt;</span>
        <span class="nt">&lt;profile&gt;</span>
            <span class="nt">&lt;id&gt;</span>local<span class="nt">&lt;/id&gt;</span>
            <span class="nt">&lt;properties&gt;</span>
                <span class="nt">&lt;sling.username&gt;</span>admin<span class="nt">&lt;/sling.username&gt;</span>          <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/8.png" alt="8" /> --&gt;</span>
                <span class="nt">&lt;sling.password&gt;</span>admin<span class="nt">&lt;/sling.password&gt;</span>
                <span class="nt">&lt;sling.url&gt;</span>http://localhost:4502/system/console/bundles<span class="nt">&lt;/sling.url&gt;</span>
            <span class="nt">&lt;/properties&gt;</span>
            <span class="nt">&lt;build&gt;</span>
                <span class="nt">&lt;pluginManagement&gt;</span>
                    <span class="nt">&lt;plugins&gt;</span>
                        <span class="nt">&lt;plugin&gt;</span>
                            <span class="nt">&lt;groupId&gt;</span>org.apache.sling<span class="nt">&lt;/groupId&gt;</span>
                            <span class="nt">&lt;artifactId&gt;</span>maven-sling-plugin<span class="nt">&lt;/artifactId&gt;</span>
                            <span class="nt">&lt;version&gt;</span>2.0.6<span class="nt">&lt;/version&gt;</span>
                            <span class="nt">&lt;configuration&gt;</span>
                                <span class="nt">&lt;slingUrl&gt;</span>${sling.url}<span class="nt">&lt;/slingUrl&gt;</span>
                                <span class="nt">&lt;user&gt;</span>${sling.username}<span class="nt">&lt;/user&gt;</span>
                                <span class="nt">&lt;password&gt;</span>${sling.password}<span class="nt">&lt;/password&gt;</span>
                                <span class="nt">&lt;refreshPackages&gt;</span>true<span class="nt">&lt;/refreshPackages&gt;</span>
                                <span class="nt">&lt;bundleStart&gt;</span>true<span class="nt">&lt;/bundleStart&gt;</span>
                            <span class="nt">&lt;/configuration&gt;</span>
                        <span class="nt">&lt;/plugin&gt;</span>
                    <span class="nt">&lt;/plugins&gt;</span>
                <span class="nt">&lt;/pluginManagement&gt;</span>
            <span class="nt">&lt;/build&gt;</span>

            <span class="nt">&lt;repositories&gt;</span>
                <span class="nt">&lt;repository&gt;</span>
                    <span class="nt">&lt;id&gt;</span>adobe-public<span class="nt">&lt;/id&gt;</span>                       <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/9.png" alt="9" /> --&gt;</span>
                    <span class="nt">&lt;url&gt;</span>http://repo.adobe.com/nexus/content/groups/public<span class="nt">&lt;/url&gt;</span>
                    <span class="nt">&lt;releases&gt;</span>
                        <span class="nt">&lt;enabled&gt;</span>true<span class="nt">&lt;/enabled&gt;</span>
                    <span class="nt">&lt;/releases&gt;</span>
                    <span class="nt">&lt;snapshots&gt;</span>
                        <span class="nt">&lt;enabled&gt;</span>true<span class="nt">&lt;/enabled&gt;</span>
                        <span class="nt">&lt;updatePolicy&gt;</span>always<span class="nt">&lt;/updatePolicy&gt;</span>
                    <span class="nt">&lt;/snapshots&gt;</span>
                <span class="nt">&lt;/repository&gt;</span>
            <span class="nt">&lt;/repositories&gt;</span>
        <span class="nt">&lt;/profile&gt;</span>
    <span class="nt">&lt;/profiles&gt;</span>
<span class="nt">&lt;/project&gt;</span>
</pre></div>
</td></tr></table></div></div>
<div class="colist arabic"><table>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/1.png" alt="1" /></td><td>
TODO
</td></tr>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/2.png" alt="2" /></td><td>
TODO
</td></tr>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/3.png" alt="3" /></td><td>
TODO
</td></tr>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/4.png" alt="4" /></td><td>
TODO
</td></tr>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/5.png" alt="5" /></td><td>
TODO
</td></tr>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/6.png" alt="6" /></td><td>
TODO
</td></tr>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/7.png" alt="7" /></td><td>
TODO
</td></tr>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/8.png" alt="8" /></td><td>
TODO
</td></tr>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/9.png" alt="9" /></td><td>
TODO
</td></tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_simple_template_and_page">3.2. Simple Template and Page</h3>
<div class="paragraph"><p>The directory structure we are going to create</p></div>
<div class="listingblock">
<div class="title">Project structure</div>
<div class="content">
<pre><code>global-cq-content/src
└── main
    └── resources
        ├── META-INF
        │   └── vault
        │       ├── config.xml
        │       ├── filter.xml
        │       ├── nodetypes.cnd
        │       ├── properties.xml
        │       └── settings.xml
        └── jcr_root
            ├── apps
            │   ├── smithstone
            │   │   ├── components
            │   │   │   └── page
            │   │   │       └── homepage
            │   │   │           ├── .content.xml
            │   │   │           └── homepage.jsp
            │   │   └── templates
            │   │       └── homepage
            │   │           ├── .content.xml
            │   │           └── thumbnail.png
            │   └── ssmithstone
            │       └── components
            │           └── tags
            └── etc
                ├── blueprints
                │   └── smithstone
                │       ├── .content.xml
                │       └── _jcr_content
                │           └── dialog.xml
                └── designs
                    └── smithstone
                        ├── .content.xml
                        ├── images
                        ├── scripts
                        └── styles

24 directories, 12 files</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>global-cq-content/src/main/resources/META-INF
└── vault
    ├── config.xml
    ├── filter.xml
    ├── nodetypes.cnd
    ├── properties.xml
    └── settings.xml

1 directory, 5 files</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>global-cq-content/src/main/resources/jcr_root/apps/smithstone/components/page
└── homepage
    ├── .content.xml
    └── homepage.jsp

1 directory, 2 files</code></pre>
</div></div>
<div class="paragraph"><p>The above directory contains our page component which is called homepage, this is just a single file at the minute
with all the necessary content in there</p></div>
<div class="listingblock">
<div class="title">apps/smithstone/components/page/homepage/homepage.jsp</div>
<div class="content"><div class="highlight"><pre><span class="k">&lt;%@</span><span class="n">page</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;cq&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.day.com/taglibs/cq/1.0&quot;</span> <span class="k">%&gt;</span> <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/1.png" alt="1" /> --&gt;</span>
<span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;fmt&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;fn&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/functions&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">include</span> <span class="n">file</span><span class="o">=</span><span class="s">&quot;/libs/foundation/global.jsp&quot;</span><span class="k">%&gt;</span>
<span class="nt">&lt;cq:defineObjects/&gt;</span>

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--[if lt IE 7]&gt;  &lt;html class=&quot;ie ie6 lte9 lte8 lte7&quot; lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 7]&gt;     &lt;html class=&quot;ie ie7 lte9 lte8 lte7&quot; lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 8]&gt;     &lt;html class=&quot;ie ie8 lte9 lte8&quot; lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 9]&gt;     &lt;html class=&quot;ie ie9 lte9&quot; lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if gt IE 9]&gt;  &lt;html lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if !IE]&gt;&lt;!--&gt;</span> <span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span><span class="c">&lt;!--&lt;![endif]--&gt;</span>


<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;cq:include</span> <span class="na">script=</span><span class="s">&quot;/libs/wcm/core/components/init/init.jsp&quot;</span> <span class="nt">/&gt;</span> <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/2.png" alt="2" /> --&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div></div></div>
<div class="colist arabic"><table>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/1.png" alt="1" /></td><td>
Includes the necessary files for CQ resources
</td></tr>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/2.png" alt="2" /></td><td>
Includes the necessary file for CQ initialisation for editor mode
</td></tr>
</table></div>
<div class="paragraph"><p>CQ resources
When we include the cq taglib we are given a collection of CQ objects</p></div>
<div class="ulist"><ul>
<li>
<p>
slingRequest - The wrapped Request Object (SlingHttpServletRequest).
</p>
</li>
<li>
<p>
slingResponse - The wrapped Response Object (SlingHttpServletResponse).
</p>
</li>
<li>
<p>
resource - The Sling Resource Object (slingRequest.getResource();).
</p>
</li>
<li>
<p>
resourceResolver - The Sling Resource Resolver Object (slingRequest.getResoucreResolver();).
</p>
</li>
<li>
<p>
currentNode - The resolved JCR node for the request.
</p>
</li>
<li>
<p>
log - The Default logger ().
</p>
</li>
<li>
<p>
sling - The Sling script helper.
</p>
</li>
<li>
<p>
properties - The properties of the addressed resource (resource.adaptTo(ValueMap.class);).
</p>
</li>
<li>
<p>
pageProperties - The properties of the page of the addressed resource.
</p>
</li>
<li>
<p>
pageManager - The page manager for accessing CQ content pages (resourceResolver.adaptTo(PageManager.class);).
</p>
</li>
<li>
<p>
component - The component object of the current CQ5 component..
</p>
</li>
<li>
<p>
designer - The designer object for retrieving design information (resourceResolver.adaptTo(Designer.class);).
</p>
</li>
<li>
<p>
currentDesign - The design of the addressed resource.
</p>
</li>
<li>
<p>
currentStyle - The style of the addressed resource.
</p>
</li>
</ul></div>
<div class="paragraph"><p>these are all available on the page context these objects make up the resource you are viewing via the url.  The problem with these objects is that they are not JSTL friendly and you are to populate the view with code that looks like the folowing:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre><span class="nt">&lt;c:set</span> <span class="na">var=</span><span class="s">&quot;some_var&quot;</span> <span class="na">value=</span><span class="s">&quot;</span><span class="k">&lt;%=</span><span class="n">properties</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="err">&#39;</span><span class="n">property_name</span><span class="err">&#39;</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">)</span><span class="k">%&gt;</span><span class="s">&quot;</span><span class="nt">/&gt;</span>
</pre></div></div></div>
<div class="paragraph"><p>And as we know this is bad practice and should be avoided, however this is littered everywhere in Adobe best practices.  This kind of code in the view makes it near impossible to test the view code, as we now have vendor lockin.</p></div>
<div class="listingblock">
<div class="title">apps/smithstone/components/page/homepage/.content.xml</div>
<div class="content"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;jcr:root</span> <span class="na">xmlns:sling=</span><span class="s">&quot;http://sling.apache.org/jcr/sling/1.0&quot;</span>
          <span class="na">xmlns:cq=</span><span class="s">&quot;http://www.day.com/jcr/cq/1.0&quot;</span> <span class="na">xmlns:jcr=</span><span class="s">&quot;http://www.jcp.org/jcr/1.0&quot;</span>
          <span class="na">jcr:mixinTypes=</span><span class="s">&quot;[cq:ReplicationStatus]&quot;</span>
          <span class="na">jcr:primaryType=</span><span class="s">&quot;cq:Component&quot;</span>
          <span class="na">jcr:title=</span><span class="s">&quot;Standard content page&quot;</span>
          <span class="nt">/&gt;</span>
</pre></div></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">Figure out what this file does</td>
</tr></table>
</div>
<div class="listingblock">
<div class="content">
<pre><code>global-cq-content/src/main/resources/jcr_root/apps/smithstone/templates
└── homepage
    ├── .content.xml
    └── thumbnail.png

1 directory, 2 files</code></pre>
</div></div>
<div class="paragraph"><p>Inside of the template is only a .content.xml file to describe what type of resource this</p></div>
<div class="listingblock">
<div class="content"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;jcr:root</span> <span class="na">xmlns:sling=</span><span class="s">&quot;http://sling.apache.org/jcr/sling/1.0&quot;</span>
          <span class="na">xmlns:cq=</span><span class="s">&quot;http://www.day.com/jcr/cq/1.0&quot;</span> <span class="na">xmlns:jcr=</span><span class="s">&quot;http://www.jcp.org/jcr/1.0&quot;</span>
          <span class="na">xmlns:nt=</span><span class="s">&quot;http://www.jcp.org/jcr/nt/1.0&quot;</span>
    <span class="na">jcr:description=</span><span class="s">&quot;Smithstone Homepage Template&quot;</span>
    <span class="na">jcr:primaryType=</span><span class="s">&quot;cq:Template&quot;</span>
    <span class="na">jcr:title=</span><span class="s">&quot;Homepage&quot;</span>
    <span class="na">allowedPaths=</span><span class="s">&quot;[/content(.*)?]&quot;</span>
    <span class="nt">&gt;</span>
    <span class="nt">&lt;jcr:content</span>
        <span class="na">cq:designPath=</span><span class="s">&quot;/etc/designs/smithstone&quot;</span>
        <span class="na">jcr:primaryType=</span><span class="s">&quot;cq:PageContent&quot;</span>
        <span class="na">sling:resourceType=</span><span class="s">&quot;smithstone/components/page/homepage&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/jcr:content&gt;</span>
<span class="nt">&lt;/jcr:root&gt;</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/note.png" alt="Note" />
</td>
<td class="content">Figure out what this file does</td>
</tr></table>
</div>
<div class="listingblock">
<div class="content">
<pre><code>global-cq-content/src/main/resources/jcr_root/etc/designs
└── smithstone
    ├── .content.xml
    ├── images
    ├── scripts
    └── styles

4 directories, 1 file</code></pre>
</div></div>
<div class="paragraph"><p>The design structure holds all assets like css, images, videos, js and since we dont have any look and feel there is
nothing in there at the minute.</p></div>
<div class="paragraph"><p>Once we have all these files we are ready to package up and install into the CQ instance this can be done using maven</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building global-cq-content 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ global-cq-content ---
[INFO] Deleting /Users/ssmithstone/cq_tutorial/tutorial/global-cq-content/target
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ global-cq-content ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 12 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ global-cq-content ---
[INFO] No sources to compile
[INFO]
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ global-cq-content ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /Users/ssmithstone/cq_tutorial/tutorial/global-cq-content/src/test/resources
[INFO]
[INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ global-cq-content ---
[INFO] No sources to compile
[INFO]
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ global-cq-content ---
[INFO] No tests to run.
[INFO]
[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ global-cq-content ---
[INFO] Building jar: /Users/ssmithstone/cq_tutorial/tutorial/global-cq-content/target/global-cq-content-1.0-SNAPSHOT.jar
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.750s
[INFO] Finished at: Sun Oct 20 11:46:50 BST 2013
[INFO] Final Memory: 6M/17M
[INFO] ------------------------------------------------------------------------</code></pre>
</div></div>
<div class="paragraph"><p>To upload the jar to cq run the maven plugin from inside globa-cq-content directory</p></div>
<div class="listingblock">
<div class="content">
<pre><code>mvn crx:install -Dcrx.packageFileName=target/global-cq-content-1.0-SNAPSHOT.jar</code></pre>
</div></div>
<div class="paragraph"><p>We have now built the global_cq_content package and installed into cq, we can now create a page based on this template.</p></div>
<div class="paragraph"><p>If you visit <a href="http://localhost:4502/siteadmin">http://localhost:4502/siteadmin</a> you will be greeted with the following screen, we can start to build up a
site that is just composed of the simple homepage template , which will give you nothing but empty pages.</p></div>
<div class="paragraph"><p>Since we have nothing on the page lets alter the template to include the page title</p></div>
<div class="listingblock">
<div class="content"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">&lt;%@</span><span class="n">page</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;cq&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://www.day.com/taglibs/cq/1.0&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;fmt&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;fn&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/functions&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span><span class="n">include</span> <span class="n">file</span><span class="o">=</span><span class="s">&quot;/libs/foundation/global.jsp&quot;</span><span class="k">%&gt;</span>
<span class="nt">&lt;cq:defineObjects/&gt;</span>

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!--[if lt IE 7]&gt;  &lt;html class=&quot;ie ie6 lte9 lte8 lte7&quot; lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 7]&gt;     &lt;html class=&quot;ie ie7 lte9 lte8 lte7&quot; lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 8]&gt;     &lt;html class=&quot;ie ie8 lte9 lte8&quot; lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 9]&gt;     &lt;html class=&quot;ie ie9 lte9&quot; lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if gt IE 9]&gt;  &lt;html lang=&quot;&quot;&gt; &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if !IE]&gt;&lt;!--&gt;</span> <span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span><span class="c">&lt;!--&lt;![endif]--&gt;</span>


<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span><span class="k">&lt;%=</span> <span class="n">currentPage</span><span class="o">.</span><span class="na">getTitle</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="s">&quot;No Title&quot;</span> <span class="o">:</span> <span class="n">currentPage</span><span class="o">.</span><span class="na">getTitle</span><span class="o">()</span> <span class="k">%&gt;</span><span class="nt">&lt;/title&gt;</span> <span class="c">&lt;!-- <img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/1.png" alt="1" /> --&gt;</span>
    <span class="nt">&lt;cq:include</span> <span class="na">script=</span><span class="s">&quot;/libs/wcm/core/components/init/init.jsp&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</td></tr></table></div></div>
<div class="colist arabic"><table>
<tr><td><img src="/usr/local/Cellar/asciidoc/8.6.8/etc/asciidoc/images/icons/callouts/1.png" alt="1" /></td><td>
We have used the cq currentPage object to get access to the title
</td></tr>
</table></div>
</div>
<div class="sect2">
<h3 id="_summary">3.3. Summary</h3>
<div class="paragraph"><p>We have created a simple template and used that template as a base for some files, we&#8217;ve added the title to each page using the
exposed CQ objects.
This is simple introduction in CQ development that has highlighted some bad practices with what is the normal way to create CQ components.
In the upcoming chapters we are going to show how to develop cleaner components.</p></div>
</div>
</div>
</div>
<h1 id="_template_extension">Template Extension</h1>
<div class="paragraph"><p>Component Extension</p></div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre><code></code></pre>
</div></div>
</div></div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2013-10-14 22:05:40 BST
</div>
</div>
</body>
</html>
